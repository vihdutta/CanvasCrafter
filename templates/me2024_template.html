<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>version 3 test sandbox v2</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
        }
        .grid-row {
            display: flex;
            flex-wrap: wrap;
            margin-left: -15px;
            margin-right: -15px;
        }
        .col-sm-12, .col-md-12, .col-lg-4, .col-lg-6, .col-md-7, .col-md-5, .col-xs-12 {
            padding-left: 15px;
            padding-right: 15px;
            box-sizing: border-box;
            width: 100%; /* Default for smaller screens */
        }

        /* Basic responsive column sizing (simplified) */
        @media (min-width: 992px) { /* Corresponds to 'lg' breakpoint */
            .col-lg-4 {
                width: 33.3333%;
            }
            .col-lg-6 {
                width: 50%;
            }
        }
        @media (min-width: 768px) { /* Corresponds to 'md' breakpoint */
            .col-md-5 {
                width: 41.6667%;
            }
            .col-md-6 {
                 width: 50%;
            }
            .col-md-7 {
                width: 58.3333%;
            }
        }
        /* General styling */
        .content-box {
            padding: 10px;
        }
        .styleguide-section__grid-demo-element {
            margin-bottom: 15px;
        }
        h2, h3 {
            color: #000000;
        }
        hr {
            border: 0;
            border-top: 1px solid #ccc;
            margin: 20px 0;
        }
    </style>
</head>
<body>

<section>
<div style="background-color: #d5e0ec; padding-left: 15px;">
    <h2 style="text-align: center;"><span style="color: #000000;">Overview - Week {{ week_number }}</span></h2>
</div>
<p>{{ week.overview_statement }}</p>
</section>

<section>
    <div class="content-box">
        <div class="grid-row">
            <div class="col-sm-12 col-lg-6">
                <div class="styleguide-section__grid-demo-element">
                    <div style="background-color: #fcf7d2;">
                        <div style="background-color: #d5e0ec; padding-left: 15px;">
                            <h3 style="text-align: center;"><img role="presentation" src="{{ icon_urls.get('schedule-icon', 'https://via.placeholder.com/47x32?text=Schedule') }}" alt="Schedule Icon" width="47" height="32" /><span style="color: #000000;"> Schedule Info</span></h3>
                        </div>
                        <p style="text-align: center;"><span style="color: #000000;">Last Week:</span> {{ last_week_text|safe }}</p>
                        <p style="text-align: center;"><span style="color: #000000;">Next Week:</span> {{ next_week_text|safe }}</p>
                        <p style="text-align: center;"><a href="https://umich.instructure.com/courses/{{ course_id }}/modules" target="_blank">See the Full Course Schedule</a></p>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-lg-6">
                <div class="styleguide-section__grid-demo-element">
                    <div style="background-color: #fcf7d2;">
                        <div style="background-color: #d5e0ec; padding-left: 15px;">
                            <h3 style="text-align: center;"><span style="color: #000000;"><img role="presentation" src="{{ icon_urls.get('upcoming-work-icon', 'https://via.placeholder.com/24x26?text=Work') }}" alt="Upcoming Work Icon" width="24" height="26" /> UPCOMING WORK</span></h3>
                        </div>
                        <ul>
                            <!-- UPCOMING WORK -->
                            <!-- Note: "OPENS" means "assigned" -->

                            <!-- DUE HW -->
                            {% if "monday" in week and week.monday.due %}
                                {% set hw_name = week.monday.due.replace("HW", "HOMEWORK ") %}
                                {% set hw_name_key = week.monday.due.replace("HW", "Homework ") %}
                                {% if homework_urls and hw_name_key in homework_urls %}
                                    <li><a href="{{ homework_urls[hw_name_key] }}" target="_blank">{{ hw_name }}</a>: DUE {{ week.monday.date }}</li>
                                {% else %}
                                    <li>{{ hw_name }}: DUE {{ week.monday.date }}</li>
                                {% endif %}
                            {% endif %}
                            {% if "wednesday" in week and week.wednesday.due %}
                                {% set hw_name = week.wednesday.due.replace("HW", "HOMEWORK ") %}
                                {% set hw_name_key = week.wednesday.due.replace("HW", "Homework ") %}
                                {% if homework_urls and hw_name_key in homework_urls %}
                                    <li><a href="{{ homework_urls[hw_name_key] }}" target="_blank">{{ hw_name }}</a>: DUE {{ week.wednesday.date }}</li>
                                {% else %}
                                    <li>{{ hw_name }}: DUE {{ week.wednesday.date }}</li>
                                {% endif %}
                            {% endif %}
                            {% if "friday" in week and week.friday.due %}
                                {% set hw_name = week.friday.due.replace("HW", "HOMEWORK ") %}
                                {% set hw_name_key = week.friday.due.replace("HW", "Homework ") %}
                                {% if homework_urls and hw_name_key in homework_urls %}
                                    <li><a href="{{ homework_urls[hw_name_key] }}" target="_blank">{{ hw_name }}</a>: DUE {{ week.friday.date }}</li>
                                {% else %}
                                    <li>{{ hw_name }}: DUE {{ week.friday.date }}</li>
                                {% endif %}
                            {% endif %}

                            <!-- ASSIGNED HW -->
                            {% if "monday" in week and week.monday.assigned %}
                                {% set hw_name = week.monday.assigned.replace("HW", "HOMEWORK ") %}
                                {% set hw_name_key = week.monday.assigned.replace("HW", "Homework ") %}
                                {% if homework_urls and hw_name_key in homework_urls %}
                                    <li><a href="{{ homework_urls[hw_name_key] }}" target="_blank">{{ hw_name }}</a>: OPENS {{ week.monday.date }}</li>
                                {% else %}
                                    <li>{{ hw_name }}: OPENS {{ week.monday.date }}</li>
                                {% endif %}
                            {% endif %}
                            {% if "wednesday" in week and week.wednesday.assigned %}
                                {% set hw_name = week.wednesday.assigned.replace("HW", "HOMEWORK ") %}
                                {% set hw_name_key = week.wednesday.assigned.replace("HW", "Homework ") %}
                                {% if homework_urls and hw_name_key in homework_urls %}
                                    <li><a href="{{ homework_urls[hw_name_key] }}" target="_blank">{{ hw_name }}</a>: OPENS {{ week.wednesday.date }}</li>
                                {% else %}
                                    <li>{{ hw_name }}: OPENS {{ week.wednesday.date }}</li>
                                {% endif %}
                            {% endif %}
                            {% if "friday" in week and week.friday.assigned %}
                                {% set hw_name = week.friday.assigned.replace("HW", "HOMEWORK ") %}
                                {% set hw_name_key = week.friday.assigned.replace("HW", "Homework ") %}
                                {% if homework_urls and hw_name_key in homework_urls %}
                                    <li><a href="{{ homework_urls[hw_name_key] }}" target="_blank">{{ hw_name }}</a>: OPENS {{ week.friday.date }}</li>
                                {% else %}
                                    <li>{{ hw_name }}: OPENS {{ week.friday.date }}</li>
                                {% endif %}
                            {% endif %}

                            <!-- UPCOMING QUIZ -->
                            {% if next_quiz %}
                                {% set quiz_name = "Quiz " + next_quiz.quiz_number|string %}
                                {% if quiz_urls and quiz_name in quiz_urls %}
                                    <li><a href="{{ quiz_urls[quiz_name] }}" target="_blank">{{ quiz_name }}</a>: {{ next_quiz.date }}</li>
                                {% else %}
                                    <li>{{ quiz_name }}: {{ next_quiz.date }}</li>
                                {% endif %}
                            {% endif %}
                        </ul>
                        </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div style="background-color: #d5e0ec; padding-left: 15px;">
    <h2 style="text-align: center;"><span style="color: #000000;">Module {{ week.module }} Learning Objectives: {{ week.learning_objectives_topic }}</span></h2>
</div>
<div class="content-box">
    <div class="grid-row">
        <div class="col-md-7 col-sm-12 col-xs-12">
            <ul>
                {% for objective in week.learning_objectives %}
                    <li>LO{{ loop.index }}: {{ objective }}</li>
                {% endfor %}
            </ul>
        </div>
        <div class="col-md-5 col-sm-12 col-xs-12">
            <figure style="text-align: center; border: 1px solid black; padding: 10px;">
                <img src="{{ week.image.image_path }}" style="max-width: 100%; height: auto;" alt="Module diagram">
                <figcaption>{{ week.image.caption }}</figcaption>
            </figure>
        </div>
    </div>
</div>

<section>
    <div style="background-color: #d5e0ec; padding-left: 15px;">
        <h2 style="text-align: center;"><span style="color: #000000;">Week {{ week_number }} Activities</span></h2>
    </div>
    <div class="content-box">
        <div class="grid-row">
            <div class="col-sm-12 col-md-12 col-lg-4">
                <div class="styleguide-section__grid-demo-element">
                    <div style="background-color: #c3ddd6; padding-left: 15px;">
                        <h2 style="text-align: center;"><span style="color: #000000;">Monday</span></h2>
                        {% if "monday" in week and week.monday.date %}
                            <h2 style="text-align: center;"><span style="color: #000000;">{{ week.monday.date }}</span></h2>
                        {% endif %}
                    </div>
                    <h3>Before Class</h3>
                    <h4>Prework</h4>
                    <ul>
                        {% if "monday" in week and week.monday.quiz_info and week.monday.quiz_info.has_quiz %}
                            {% set quiz_name = "Quiz " + week.monday.quiz_info.quiz_number %}
                            {% if quiz_urls and quiz_name in quiz_urls %}
                                <li><a href="{{ quiz_urls[quiz_name] }}" target="_blank">{{ week.monday.quiz_info.study_text }}</a></li>
                            {% else %}
                                <li>{{ week.monday.quiz_info.study_text }}</li>
                            {% endif %}
                            <li>
                                {% if week.monday.quiz_info.sample_quiz_url %}
                                    <a href="{{ week.monday.quiz_info.sample_quiz_url }}" target="_blank">{{ week.monday.quiz_info.sample_text }}</a>
                                {% else %}
                                    {{ week.monday.quiz_info.sample_text }}
                                {% endif %}
                            </li>
                        {% endif %}
                        {% if "monday" in week and week.monday.prework_video_title and week.monday.prework_video_title.strip() %}
                            {% set title_parts = week.monday.prework_video_title.split(' - ', 1) %}
                            {% set display_title = 'Prework ' + week.monday.lesson + ' - ' + title_parts[1] %}
                            <li>Video: <a href="{{ week.monday.prework_video_link }}" target="_blank">{{ display_title }}</a></li>
                        {% endif %}
                        <li>Be ready to ask questions and talk with your classmates about the prework content!</li>
                    </ul>
                    <h4>Referenced Reading</h4>
                    <ul>
                        {% if "monday" in week and week.monday.referenced %}
                            <li> Textbook: {{ week.monday.referenced }} </li>
                        {% else %}
                            <li> Textbook: N/A </li>
                        {% endif %}
                    </ul>
                    <hr />
                    <h3>During Class</h3>
                    <ul>
                        <li>Class Notes: TO BE POSTED</li>
                        <li>Class Recording: TO BE POSTED</li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-4">
                <div class="styleguide-section__grid-demo-element">
                    <div style="background-color: #f6cac9; padding-left: 15px;">
                        <h2 style="text-align: center;"><span style="color: #000000;">Wednesday</span></h2>
                        {% if "wednesday" in week and week.wednesday.date %}
                            <h2 style="text-align: center;"><span style="color: #000000;">{{ week.wednesday.date }}</span></h2>
                        {% endif %}
                    </div>
                    <h3>Before Class</h3>
                    <h4>Prework</h4>
                    <ul>
                        {% if "wednesday" in week and week.wednesday.quiz_info and week.wednesday.quiz_info.has_quiz %}
                            {% set quiz_name = "Quiz " + week.wednesday.quiz_info.quiz_number %}
                            {% if quiz_urls and quiz_name in quiz_urls %}
                                <li><a href="{{ quiz_urls[quiz_name] }}" target="_blank">{{ week.wednesday.quiz_info.study_text }}</a></li>
                            {% else %}
                                <li>{{ week.wednesday.quiz_info.study_text }}</li>
                            {% endif %}
                            <li>
                                {% if week.wednesday.quiz_info.sample_quiz_url %}
                                    <a href="{{ week.wednesday.quiz_info.sample_quiz_url }}" target="_blank">{{ week.wednesday.quiz_info.sample_text }}</a>
                                {% else %}
                                    {{ week.wednesday.quiz_info.sample_text }}
                                {% endif %}
                            </li>
                        {% endif %}
                        {% if "wednesday" in week and week.wednesday.prework_video_title and week.wednesday.prework_video_title.strip() %}
                            {% set title_parts = week.wednesday.prework_video_title.split(' - ', 1) %}
                            {% set display_title = 'Prework ' + week.wednesday.lesson + ' - ' + title_parts[1] %}
                            <li>Video: <a href="{{ week.wednesday.prework_video_link }}" target="_blank">{{ display_title }}</a></li>
                        {% endif %}
                        <li>Be ready to ask questions and talk with your classmates about the prework content!</li>
                    </ul>
                    <h4>Referenced Reading</h4>
                    <ul>
                        {% if "wednesday" in week and week.wednesday.referenced %}
                            <li> Textbook: {{ week.wednesday.referenced }} </li>
                        {% else %}
                            <li> Textbook: N/A </li>
                        {% endif %}
                    </ul>
                    <hr />
                    <h3>During Class</h3>
                    <ul>
                        <li>Class Notes: TO BE POSTED</li>
                        <li>Class Recording: TO BE POSTED</li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-4">
                <div class="styleguide-section__grid-demo-element">
                    <div style="background-color: #d1c3d5; padding-left: 15px;">
                        <h2 style="text-align: center;"><span style="color: #000000;">Friday</span></h2>
                        {% if "friday" in week and week.friday.date %}
                            <h2 style="text-align: center;"><span style="color: #000000;">{{ week.friday.date }}</span></h2>
                        {% endif %}
                    </div>
                    <h3>Before Class</h3>
                    <h4>Prework</h4>
                    <ul>
                        {% if "friday" in week and week.friday.quiz_info and week.friday.quiz_info.has_quiz %}
                            {% set quiz_name = "Quiz " + week.friday.quiz_info.quiz_number %}
                            {% if quiz_urls and quiz_name in quiz_urls %}
                                <li><a href="{{ quiz_urls[quiz_name] }}" target="_blank">{{ week.friday.quiz_info.study_text }}</a></li>
                            {% else %}
                                <li>{{ week.friday.quiz_info.study_text }}</li>
                            {% endif %}
                            <li>
                                {% if week.friday.quiz_info.sample_quiz_url %}
                                    <a href="{{ week.friday.quiz_info.sample_quiz_url }}" target="_blank">{{ week.friday.quiz_info.sample_text }}</a>
                                {% else %}
                                    {{ week.friday.quiz_info.sample_text }}
                                {% endif %}
                            </li>
                        {% endif %}
                        {% if "friday" in week and week.friday.prework_video_title and week.friday.prework_video_title.strip() %}
                            {% set title_parts = week.friday.prework_video_title.split(' - ', 1) %}
                            {% set display_title = 'Prework ' + week.friday.lesson + ' - ' + title_parts[1] %}
                            <li>Video: <a href="{{ week.friday.prework_video_link }}" target="_blank">{{ display_title }}</a></li>
                        {% endif %}
                        <li>Be ready to ask questions and talk with your classmates about the prework content!</li>
                    </ul>
                    <h4>Referenced Reading</h4>
                    <ul>
                        {% if "friday" in week and week.friday.referenced %}
                            <li> Textbook: {{ week.friday.referenced }} </li>
                        {% else %}
                            <li> Textbook: N/A </li>
                        {% endif %}
                    </ul>
                    <hr />
                    <h3>During Class</h3>
                    <ul>
                        <li>Class Notes: TO BE POSTED</li>
                        <li>Class Recording: TO BE POSTED</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<footer>
    <h2 style="text-align: center; background-color: #d5e0ec;"><span style="color: #000000;">Course Information</span></h2>
    <div class="content-box">
        <div class="grid-row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                <div class="styleguide-section__grid-demo-element">
                    <div style="background-color: #fcf7d2; padding-left: 15px; text-align: center; padding-top: 5px; padding-bottom: 5px;"><span style="color: #000000; font-family: inherit; font-size: 1rem;">Lecture time and location:</span></div>
                    <div style="background-color: #fcf7d2; padding-left: 15px; text-align: center; padding-top: 5px; padding-bottom: 5px;"><span style="color: #000000;">Monday, Wednesday, &amp; Friday 11:30 AM - 1:00 PM</span></div>
                    <div style="background-color: #fcf7d2; padding-left: 15px; text-align: center; padding-top: 5px; padding-bottom: 5px;"><span style="color: #000000;">3460 Central Campus Classroom Building (CCCB)</span></div>
                    <p>&nbsp;</p>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                <div class="styleguide-section__grid-demo-element">
                    <div style="background-color: #fcf7d2; padding-left: 15px; text-align: center; padding-top: 5px; padding-bottom: 5px;"><span style="color: #2c333e; font-family: inherit; font-size: 1rem;">Full Schedule Calendar (PDF) / <a href="https://umich.instructure.com/courses/{{ course_id }}/modules" target="_blank" rel="noopener" style="color: #2c333e;">Canvas Modules</a></span></div>
                    <div style="background-color: #fcf7d2; padding-left: 15px; text-align: center; padding-top: 5px; padding-bottom: 5px;"><span class="textLayer--absolute" style="font-family: inherit; font-size: 1rem;" dir="ltr" role="presentation">Course Syllabus (PDF)</span></div>
                    <div style="background-color: #fcf7d2; padding-left: 15px; text-align: center; padding-top: 5px; padding-bottom: 5px;"><span style="color: #2c333e;"><span class="textLayer--absolute" style="font-family: inherit; font-size: 1rem;" dir="ltr" role="presentation">Instructors and Office Hours</span></span></div>
                    <p>&nbsp;</p>
                </div>
            </div>
        </div>
    </div>
</footer>

</body>
</html>